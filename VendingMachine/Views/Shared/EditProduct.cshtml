@model Product

<div class="modal-content">
	<div class="modal-header">
		<h4>Редактирование</h4>
		<button class="close" data-dismiss="modal" area-hidden="true">X</button>
	</div>
	<div class="modal-body">
		<div id="dialog-content"></div>
		<form asp-action="EditProduct" method="post">
			<input type="hidden" asp-for="ProductID" />
			<div class="form-group">
				<div><span asp-validation-for="Name" class="text-danger"></span></div>
				<label asp-for="Name"></label>
				<input asp-for="Name" class="form-control" />
			</div>
			<div class="form-group">
				<div><span asp-validation-for="ImageFilePath" class="text-danger"></span></div>
				<label asp-for="ImageFilePath"></label>
				<input asp-for="ImageFilePath" class="form-control" />
			</div>
			<div class="form-group">
				<div><span asp-validation-for="Price" class="text-danger"></span></div>
				<label asp-for="Price"></label>
				<input asp-for="Price" class="form-control" />
			</div>
			<div class="form-group">
				<div><span asp-validation-for="Count" class="text-danger"></span></div>
				<label asp-for="Count"></label>
				<input asp-for="Count" class="form-control" />
			</div>
			<div class="text-right">
				<button class="btn btn-primary saveProduct">Сохранить</button>
				<button class="btn btn-secondary" data-dismiss="modal">Отмена</button>
			</div>
		</form>
	</div>
</div>
<script>
	$.ajaxSetup({ cache: false });
	$('.saveProduct').click(function (e) {
		e.preventDefault();
		$.ajax({
			url: '@Url.Action("EditProduct","Admin")',
			method: 'POST',
			data: $('form').serialize(),
			success: function (result) {
				$('#dialogContent').html(result);				
			}
		});
	});
</script>